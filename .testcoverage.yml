# Test coverage configuration for go-test-coverage
# https://github.com/vladopajic/go-test-coverage

# Coverage profile generated by go test
profile: coverage.out

# Default thresholds
threshold:
  file: 0           # No per-file threshold
  package: 85       # 85% coverage required per package
  total: 75         # 75% overall project coverage (current: ~77%)

# Package-specific threshold overrides
# Packages that are impractical to test to 85%
override:
  # cmd/myfamily - main entry point, mostly wiring code
  - path: cmd/myfamily
    threshold: 0  # No minimum coverage required

  # internal/web - static file embedding utilities (build-tag dependent)
  - path: internal/web
    threshold: 0  # No minimum coverage required

  # internal/repository/postgres - integration tests require Docker/testcontainers
  - path: internal/repository/postgres
    threshold: 0  # No minimum coverage required

  # internal/repository/sqlite - currently at 83.3%, needs additional test coverage
  - path: internal/repository/sqlite
    threshold: 80  # Temporary lower threshold until additional tests added
